@model PokemonUniteBuildTracker.ViewModels.BuildViewModel

@{
    ViewData["Title"] = "Create Build";
}

<h2>@ViewData["Title"]</h2>

<form asp-action="CreateBuild" method="post">
    <div class="form-group">
        <label asp-for="SelectedPokemonId"></label>
        <select asp-for="SelectedPokemonId" asp-items="@(new SelectList(Model.AvailablePokemons, "PokemonId", "PokemonName"))" class="form-control">
            <option value="">-- Select Pokémon --</option>
        </select>
        <span asp-validation-for="SelectedPokemonId" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="SelectedHeldItemIds">Held Items (Select up to 3)</label>
        <select asp-for="SelectedHeldItemIds" asp-items="@(new MultiSelectList(Model.AvailableHeldItems, "HeldItemId", "HeldItemName"))" multiple class="form-control">
        </select>
        <span asp-validation-for="SelectedHeldItemIds" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="SelectedBattleItemId">Battle Item</label>
        <select asp-for="SelectedBattleItemId" asp-items="@(new SelectList(Model.AvailableBattleItems, "BattleItemId", "BattleItemName"))" class="form-control">
            <option value="">-- Select Battle Item --</option>
        </select>
        <span asp-validation-for="SelectedBattleItemId" class="text-danger"></span>
    </div>
    <div>
        <div>
        <button type="submit" class="btn btn-primary">Calculate Stats</button>
    </div>
    </div>
    
</form>

@if (Model.SelectedPokemon != null)
{
    <h3>@Model.SelectedPokemon.PokemonName</h3>
    <table class="table table-bordered">
        <tr>
            <th></th>
            <th>Base Stats</th>
            <th>Calculated Stats</th>
        </tr>
        <tr>
            <th>HP</th>
            <td>@Model.SelectedPokemon.PokemonHP</td>
            <td>@Model.TotalHP</td>
        </tr>
        <tr>
            <th>Attack</th>
            <td>@Model.SelectedPokemon.PokemonAttack</td>
            <td>@Model.TotalAttack</td>
        </tr>
        <tr>
            <th>Defense</th>
            <td>@Model.SelectedPokemon.PokemonDefense</td>
            <td>@Model.TotalDefense</td>
        </tr>
        <tr>
            <th>Sp Attack</th>
            <td>@Model.SelectedPokemon.PokemonSpAttack</td>
            <td>@Model.TotalSpAttack</td>
        </tr>
        <tr>
            <th>Sp Defense</th>
            <td>@Model.SelectedPokemon.PokemonSpDefense</td>
            <td>@Model.TotalSpDefense</td>
        </tr>
        <tr>
            <th>Crit Rate</th>
            <td>@Model.SelectedPokemon.PokemonCritRate</td>
            <td>@Model.TotalCritRate</td>
        </tr>
        <tr>
            <th>CDR</th>
            <td>@Model.SelectedPokemon.PokemonCDR</td>
            <td>@Model.TotalCDR</td>
        </tr>
        <tr>
            <th>Lifesteal</th>
            <td>@Model.SelectedPokemon.PokemonLifesteal</td>
            <td>@Model.TotalLifesteal</td>
        </tr>
        <tr>
            <th>Attack Speed</th>
            <td>@Model.SelectedPokemon.PokemonAttackSpeed</td>
            <td>@Model.TotalAttackSpeed</td>
        </tr>
        <tr>
            <th>Move Speed</th>
            <td>@Model.SelectedPokemon.PokemonMoveSpeed</td>
            <td>@Model.TotalMoveSpeed</td>
        </tr>
       
    </table>

}
